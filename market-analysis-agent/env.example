# Market Analysis Agent Environment Configuration

# MCP Server Configuration
MCP_SERVER_BASE_URL=http://localhost:3000
MCP_SERVER_PATH=/general/mcp
MCP_CONNECTION_TIMEOUT=30
MCP_READ_TIMEOUT=60

# Agent STS Configuration
AGENT_STS_URL=http://localhost:8081
MARKET_ANALYSIS_SPIFFE_ID=spiffe://cluster.local/ns/default/sa/market-analysis-agent

# OpenTelemetry Tracing Configuration
JAEGER_HOST=localhost
JAEGER_PORT=4317

# Reduce noisy spans with sampling
OTEL_TRACES_SAMPLER=parentbased_traceidratio
OTEL_TRACES_SAMPLER_ARG=0.1
OTEL_TRACES_SAMPLER_PARENT_BASED=true

# Note: Noisy A2A framework spans (dequeue_event, etc.) are automatically filtered out

# Console Trace Span Logging Control
# Set to 'false' to disable all console trace span logging while keeping tracing functionality
# This is useful for production environments where you want tracing but not console output
ENABLE_CONSOLE_EXPORTER=true

# Market Analysis Agent Configuration
# The canonical authority URL for this agent (used for AAuth signature verification)
# Per AAuth SPEC Section 10.3.1, this is the authority callers are expected to use
MARKET_ANALYSIS_AGENT_URL=http://localhost:9998/
# AAuth Canonical Authority Configuration
# Per AAuth SPEC Section 10.3.1, receivers MUST use configured canonical authority for @authority in signature base
# This should match what signers will use (e.g., "market-analysis-agent.localhost:3000" or "localhost:9998")
CANONICAL_AUTHORITY=market-analysis-agent.localhost:3000

# AAuth Configuration
# Signature scheme: "hwk" (pseudonymous) or "jwks" (identified agent)
# Default: hwk (maintains backward compatibility)
AAUTH_SIGNATURE_SCHEME=hwk
# Agent identifier for JWKS scheme (HTTPS URL)
MARKET_ANALYSIS_AGENT_ID_URL=http://market-analysis-agent.localhost:3000

# Logging Configuration
# LOG_LEVEL: Set logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
# If LOG_LEVEL is not set, DEBUG flag controls logging level
LOG_LEVEL=info
# DEBUG: Set to 'true' to enable verbose debug statements (used for conditional debug logging)
DEBUG=false
